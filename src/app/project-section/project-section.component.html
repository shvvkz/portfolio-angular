<div id="portfolio" class="paddsection-2">
  <div class="container">
    <div class="section-title text-center">
      <h2 class="h2-dark">Projets</h2>
    </div>
  </div>

  <div class="container" data-aos="fade-up">
    <div class="row">
      <div class="col-lg-12 d-flex justify-content-center">
        <ul id="portfolio-flters" class="filters-dark">
          <li *ngFor="let category of categories" 
              (click)="filterProjects(category)" 
              [class.filter-active]="selectedCategory === category">
            {{ category }}
          </li>
        </ul>
      </div>
    </div>

    <div class="row portfolio-container" [@listAnimation]="projects.length">
      <ng-container *ngFor="let project of projects">
        <div *ngIf="project.isVisible" 
             [@itemAnimation] 
             class="col-lg-4 col-md-6 portfolio-item">
          <div class="portfolio-wrapper">
            <img [src]="project.images[0]" class="img-fluid" alt="{{project.name}}" (click)="goToDetails(project)">
            <div class="portfolio-info info-dark">
              <h4>{{ project.name }}</h4>
              <p>Langages : {{ project.languagesNames.join(', ') }}</p>
              <p *ngIf="project.finished; else unfinishedMessage">Projet terminé</p>
              <ng-template #unfinishedMessage>
                <p>Projet non terminé</p>
              </ng-template>
              <a [routerLink]="['/project-details', project.id]" class="details-link details-dark" title="Plus de détails">
                <i class="bx bx-link"></i>
              </a>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
